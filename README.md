

# 🦟 ESP32 室內蚊子存在偵測系統

## 動機（Motivation）

蚊子常在夜間活動，影響睡眠品質，但在真正被叮之前，往往難以及時察覺其存在。傳統防蚊方式（電蚊拍、捕蚊燈、藥劑）多為被動或事後處理，缺乏「即時知道房間是否有蚊子活動」的能力。

本專案的動機，是希望透過低成本的微控制器與感測器，在家用場景下即時偵測房間內是否有蚊子活動，讓使用者能提早採取對應措施。

---

## 目的（Objective）

本專案的目標如下：

* 偵測「**房間內是否存在蚊子活動**」，而非精準計數
* 裝置可在夜間長時間運作
* 使用 **ESP32 + 麥克風**，成本低、DIY 友善
* 以聲學特徵判定，避免使用高成本影像或雷射設備
* 結果以 LED 或顯示器呈現，直觀易懂

本系統定位為 **家用存在偵測（presence detection）**，而非科研級昆蟲監測。

---

## 完整模組與配件清單（Bill of Materials）

### 核心模組（必備）

* **ESP32 開發板**

  * 建議：ESP32-WROOM-32 DevKit 類型
  * 需求：支援 I2S、可使用 Arduino IDE
* **I2S 數位 MEMS 麥克風模組**

  * 推薦型號：

    * INMP441
    * SPH0645LM4H
  * 用途：收集環境音訊供頻譜分析

### 指示 / 顯示（擇一或皆可）

* LED（紅 / 黃 / 綠）＋ 220Ω 電阻

  * 用於顯示偵測狀態
* 0.96 吋 I2C OLED 顯示器（128×64）

  * 用於顯示即時狀態與數值（選配）

### 配件與耗材

* USB 傳輸線（供電與燒錄）
* 5V USB 充電器（穩定電源）
* 杜邦線（公對母）
* 麵包板（原型階段）
* 外殼或固定座（選配，提升實用性）

| 關鍵字                         | 建議買多少 |
| --------------------------- | ----- |
| “ESP32 WROOM-32 開發板”        | 1     |
| “INMP441 I2S 麥克風模塊”         | 1     |
| “I2C OLED 0.96″ 128×64 顯示器” | 1（可選） |
| “LED 三色指示燈 + 220Ω 抵抗”       | 1 套   |
| “杜邦線 公對母”                   | 1 組   |
| “USB 5V 2A 充電器”             | 1     |


---

## 方法（Method）

本系統採用**聲學偵測法**，核心概念如下：

1. 使用 I2S 麥克風持續收集環境音訊
2. 透過 ESP32 對音訊進行數位取樣
3. 對音訊資料進行頻域分析（FFT 或等效方法）
4. 檢測蚊子振翅常見的頻率區間（約 350–800 Hz）
5. 結合能量比、諧波特性與時間上的連續性進行判定
6. 在一定時間窗口內多次命中，才判定「可能有蚊子活動」

此方法避免單次觸發造成誤報，適合家用環境中的風扇、冷氣等背景噪音情境。

---

## 未來工作（Future Work）

以下為可擴充與改進方向：

* **Wi-Fi 通知**

  * 偵測到蚊子活動時推送手機通知
* **資料記錄**

  * 紀錄每晚蚊子活動時間分布（log / MQTT / Home Assistant）
* **判定模型優化**

  * 引入簡單機器學習模型以降低誤報
* **誘導式偵測**

  * 結合微弱誘蚊機制，提高偵測成功率
* **低功耗模式**

  * 深夜長時間運作的省電設計
* **產品化外殼**

  * 改善外觀與聲學結構，提升實際部署效果
